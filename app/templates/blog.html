<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta property="og:title" content="Personal Portfolio" />
    <meta property="og:description" content="My Personal Portfolio" />
    <meta property="og:url" content="{{ url }}" />

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link lang="sass" rel="stylesheet" href="./static/styles/main.css" />
    <link rel="icon" href="./static/img/download.png" type="image/x-icon" />
    <title>Sahiti Gabrani</title>
    <script
      src="https://kit.fontawesome.com/1690528c5b.js"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <header>
      <div class="container">
        <nav>
          <a href="/">
            <img src="./static/img/download.png" class="nav-logo" />
          </a>
          <ul id="sidemenu">
            <li><a href="/#about">About Me</a></li>
            <li><a href="/#experience">Work Experience</a></li>
            <li><a href="/#projects">Projects</a></li>
            <li><a href="/#hobbies">Hobbies</a></li>
            <li><a href="/#contact">Contact Me</a></li>
            <li>
              <button
                class="dark-mode-toggle"
                onclick="toggleDarkMode()"
                aria-label="dark mode toggle button"
              >
                <span class="fa fa-fw fa-cloud-sun"></span>
              </button>
            </li>
            <i class="fas fa-times" onclick="closemenu()"></i>
          </ul>
          <i class="fas fa-bars" onclick="openmenu()"></i>
        </nav>

        <div class="header-text">
          <div class="text-content">
            <p class="typewriter">
              Welcome to my mess of a brain... I meant <span>blog</span>
            </p>
          </div>
        </div>
      </div>
    </header>

    <div class="container">
      <div class="info">
        <p style="padding-bottom: 10%">
          Sometimes I lose motivation (usually when I forget that I have a life
          outside of my laptop) and even meeting my best friends feels like a
          task on my never ending To-Do list. This is usually due to burnout and
          it gets all too easy to slip back to old habbits.
          <br /><br />
          This is when it's important to write out my thoughts so I don't get
          lost in my own head, it's how I stay grounded. But also, simply
          becuase I enjoy writing and rambling.
        </p>
        <hr color="#4dc4d6" />
      </div>
      <div class="info">
        <a class="button button-block" href="/blog.mlh">
          All about MLH <span>Aug 8, 2023</span>
        </a>
        <a class="button button-block" href="/blog.music">
          Me and Music <span> Aug 2, 2023</span>
        </a>
        <a
          style="margin-bottom: 10%"
          class="button button-block"
          href="/blog.ucla"
        >
          UCLA: Halfway in... <span> July 27, 2023</span>
        </a>
        <hr color="#4dc4d6" />
      </div>
      <div class="info">
        <form id="form">
          <h3>Leave a comment!</h3>
          <br />
          <div>
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Name"
              required
            />
          </div>
          <div>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="Email"
              required
            />
          </div>
          <div>
            <textarea
              id="content"
              name="content"
              placeholder="Comment"
              required
            ></textarea>
          </div>
          <button type="submit" class="button">Post Comment</button>
        </form>
        <br />
        <h2>Previous Comments</h2>
        <br />
        <button class="button" onclick="showList()">Show Comments</button><br />
        <div id="timeline-posts"></div>
        <div id="timeline-posts-container"></div>
      </div>
      <div class="info">
        <hr color="#4dc4d6" />
        <br /><br />
        <div class="row">
          <div class="contact2-right">
            <h3>Say hi!</h3>
            <div class="social-icons">
              <!--<a href="https://www.facebook.com/" target="_blank"><i class="fab fa-facebook"></i></a>
                      <a href="https://twitter.com/" target="_blank"><i class="fab fa-twitter-square"></i></a>-->
              <a
                href="https://www.linkedin.com/in/sahiti-gabrani/"
                target="_blank"
                ><i class="fab fa-linkedin"></i
              ></a>
              <a
                href="https://www.instagram.com/sahiti_gabrani/?next=%2F"
                target="_blank"
                ><i class="fab fa-instagram"></i
              ></a>
              <a href="https://github.com/sgabrani" target="_blank"
                ><i class="fa-brands fa-github"></i
              ></a>
              <a
                href="https://open.spotify.com/user/a5ffxi4wseorfbtd3c6r2u3ei?si=Gow0-Wf0Tvqi_s3LDmCDtw"
                target="_blank"
                ><i class="fa-brands fa-spotify"></i
              ></a>
            </div>
          </div>
          <div class="contact2-left">
            <p><i class="fas fa-envelope"></i> sgabrani@ucla.edu</p>
            <p><i class="fas fa-paper-plane"></i> sahitigabrani@gmail.com</p>
          </div>
        </div>
      </div>
    </div>
    <!-----------Footer----------->
    <div class="footer">
      <p>Made by Sahiti Gabrani <i class="fa-solid fa-heart"></i></p>
    </div>

    <script>
      var tablinks = document.getElementsByClassName("tab-links");
      var tabcontents = document.getElementsByClassName("tab-contents");

      function opentab(tabname) {
        for (tablink of tablinks) {
          tablink.classList.remove("active-link");
        }

        for (tabcontent of tabcontents) {
          tabcontent.classList.remove("active-tab");
        }

        event.currentTarget.classList.add("active-link");
        document.getElementById(tabname).classList.add("active-tab");
      }
    </script>

    <script>
      var sidemenu = document.getElementById("sidemenu");

      function openmenu() {
        sidemenu.style.right = "0";
      }

      function closemenu() {
        sidemenu.style.right = "-200px";
      }
    </script>
    <script>
      const form = document.getElementById("form");

      form.addEventListener("submit", function (e) {
        e.preventDefault();
        // Create payload as new FormData object:
        const payload = new FormData(form);
        // Post the payload using Fetch:
        fetch("/api/timeline_post", {
          method: "POST",
          body: payload,
        })
          .then((res) => res.json())
          .then((data) => console.log(data));
      });
    </script>
    <script>
      function showList() {
        fetch("/api/timeline_post")
          .then((response) => response.json())
          .then((data) => createList(data));
      }

      function createList(data) {
        const mainUL = document.createElement("timeline-posts-container");
        for (let i = data.timeline_posts.length - 1; i >= 0; i--) {
          const studentLI = document.createElement("div");
          studentLI.innerHTML = createCard1(
            data.timeline_posts[i].name,
            data.timeline_posts[i].email,
            data.timeline_posts[i].content,
            data.timeline_posts[i].id
          );
          mainUL.appendChild(studentLI);
        }
        // append mainUL to body
        const timelinePostsContainer =
          document.getElementById("timeline-posts");
        timelinePostsContainer.appendChild(mainUL);
      }

      const createCard1 = (name, email, content, id) => {
        return `          
        <br> 
                  <div class="card">
                          <h6>${name}</h6>
                      <p class="py-4 px-4 my-3 bg-slate-100 rounded-lg">${content}</p>
                  </div>
          `;
      };
    </script>
    <script>
      // light and dark mode
      let darkMode = false;
      let rootStyle = getComputedStyle(document.body);

      function setDarkMode(newMode) {
        rootStyle = getComputedStyle(document.body);
        document.documentElement.style.setProperty(
          "--font-color-root",
          rootStyle.getPropertyValue(`--font-color-${newMode}-mode`)
        );
        document.documentElement.style.setProperty(
          "--font-em-color-root",
          rootStyle.getPropertyValue(`--font-em-color-${newMode}-mode`)
        );
        document.documentElement.style.setProperty(
          "--background-color-root",
          rootStyle.getPropertyValue(`--background-color-${newMode}-mode`)
        );
        document.documentElement.style.setProperty(
          "--background-card-root",
          rootStyle.getPropertyValue(`--background-card-${newMode}-mode`)
        );
      }
      function toggleDarkMode() {
        if (darkMode) {
          // switch to light
          setDarkMode("light");
        } else {
          // switch to dark
          setDarkMode("dark");
        }
        darkMode = !darkMode;
      }

      // event listener for light/dark mode switch
      const darkModeMediaQuery = window.matchMedia(
        "(prefers-color-scheme: dark)"
      );
      darkModeMediaQuery.addListener((e) => {
        const darkModeOn = e.matches;
        console.log(`Dark was toggled to ${darkModeOn ? "üåí on" : "‚òÄÔ∏è off"}.`);
        toggleDarkMode();
      });
    </script>
  </body>
</html>
